{% extends "plugins/admin/templates/partials/base.html" %}

{% block breadcrumbs %}
    {% if isCurrentUrl('admin.entries.index') or
          isCurrentUrl('admin.entries.edit') or
          isCurrentUrl('admin.entries.add') or
          isCurrentUrl('admin.entries.move') or
          isCurrentUrl('admin.entries.rename') %}
        {% set parts = query.id|split('/') %}
        {% for part in parts %}
            {% set entryID = strings(entryID ~ '/' ~ part).trimLeft('/') %}
            {% if (part != parts|last) %}
                <li class="nav-item">
                    <a class="nav-link" href="{{ urlFor('admin.entries.index') }}?id={{ entryID }}">{% if flextype.entries.has(entryID) %}{{ flextype.entries.fetch(entryID).title ?: flextype.entries.fetch(entryID).slug }}{% else %}{{ part }}{% endif %}</a>
                </li>
            {% elseif (part) %}
            <li class="nav-item">
                <a class="nav-link">{% if flextype.entries.has(entryID) %}{{ flextype.entries.fetch(entryID).title ?: flextype.entries.fetch(entryID).slug }}{% else %}{{ part }}{% endif %}</a>
            </li>
            {% endif %}
        {% endfor %}
    {% endif %}
{% endblock %}