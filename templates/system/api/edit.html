{% extends "plugins/admin/templates/partials/base.html" %}

{% block content %}
<div class="workspace-header row">
    <div class="col p-0"><h2>Edit Token</h2></div>
    <div class="col p-0 text-end">
        <a href="javascript:void(0);"
           data-form-id="form_api_entries_edit"
           class="btn btn-primary js-submit-form">{{ __('admin_save')|raw }}</a>
    </div>
</div>
<div class="table-rounded px-4 py-4">
    <form method="post" id="form_api_entries_edit" data-parsley-validate>
        {{ csrf() }}
        <input type="hidden" name="api" value="{{ api }}">
        <input type="hidden" name="token" value="{{ token }}">
        <input type="hidden" name="created_by" value="{{ token_data.created_by }}">
        <input type="hidden" name="created_at" value="{{ token_data.created_at }}">
        <input type="hidden" name="uuid" value="{{ token_data.uuid }}">
        <input type="hidden" name="calls" value="{{ token_data.calls }}">
        <div class="row">
            <div class="col-md-4">
                <div class="mb-3">
                    <label for="title" class="form-label">{{ tr('admin_title') }}</label>
                    <input type="text" id="title" name="title" value="{{ token_data.title }}" class="form-control" required="required" data-parsley-minlength="1" data-parsley-error-message="{{ tr('admin_error_title_empty_input') }}" data-parsley-required="true">
                    <small>{{ tr('admin_help_text_for_tokens_label') }}</small>
                </div>
                <div class="mb-3">
                    <label for="title" class="form-label">{{ tr('admin_api_calls_limit') }}</label>
                    <input
                        type="text"
                        id="limit"
                        name="limit_calls"
                        value="{{ token_data.limit_calls }}"
                        class="form-control"
                        required="required"
                        data-parsley-required="true"
                        data-parsley-minlength="1"
                        data-parsley-type="integer"
                        data-parsley-error-message="{{ tr('admin_error_api_calls_empty_input') }}">
                    <small>{{ tr('admin_help_text_for_api_calls_limit_label') }}</small>
                </div>
            </div>
            <div class="col-md-4">
                <div class="mb-3">
                    <label for="icon" class="form-label">{{ tr('admin_icon_name') }}</label>
                    <input type="text" id="fieldsetIconName" name="icon_name" value="{{ token_data.icon.name }}" class="form-control" required="required" data-parsley-minlength="1" data-parsley-error-message="{{ tr('form_admin_error_icon_empty_input') }}" data-parsley-required="true">
                    <small>{{ tr('admin_help_text_for_tokens_label') }}</small>
                </div>
                <div class="mb-3">
                    <label for="icon" class="form-label">{{ tr('admin_icon_set') }}</label>
                    <input type="text" id="fieldsetIconSet" name="icon_set" value="{{ token_data.icon.set }}" class="form-control" required="required" data-parsley-minlength="1" data-parsley-error-message="{{ tr('form_admin_error_icon_empty_input') }}" data-parsley-required="true">
                    <small>{{ tr('admin_help_text_for_tokens_label') }}</small>
                </div>
            </div>
            <div class="col-md-4">
                <label for="type" class="form-label">{{ tr('admin_state') }}</label>
                <select class="form-control js-select" name="state">
                    <option value="enabled" {% if token_data.state == 'enabled' %} selected="selected" {% endif %}>{{ tr('admin_enabled') }}</option>
                    <option value="disabled" {% if token_data.state == 'disabled' %} selected="selected" {% endif %} ">{{ tr('admin_disabled') }}</option>
                </select>
            </div>
        </div>
    </form>
</div>
{% endblock %}
